<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soapdove Maker Site</title>
  <style>
    :root {
      /* Swap this URL to change the background image */
      --bg-url: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1880&auto=format&fit=crop');
      --btn-bg: rgba(255,255,255,0.1);
      --btn-bg-hover: rgba(255,255,255,0.16);
      --btn-border: rgba(255,255,255,0.28);
      --text: #ffffff;
      --shadow: rgba(0,0,0,0.35);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: #000; /* safety color under image */
      overflow: hidden;
    }

    .stage {
      position: relative;
      width: 100vw;
      height: 100dvh;
      display: grid;
      place-items: center;
      isolation: isolate;
    }

    /* Backdrop */
    .backdrop {
      position: absolute;
      inset: 0;
      background-image: var(--bg-url);
      background-size: cover;
      background-position: center;
      filter: saturate(1.05);
      transform: scale(1.02);
      z-index: -2;
    }
    .vignette {
      position: absolute;
      inset: 0;
      background: radial-gradient(120% 80% at 50% 20%, rgba(0,0,0,0.25), rgba(0,0,0,0.65) 60%, rgba(0,0,0,0.8));
      z-index: -1;
    }

    .wrap {
      width: min(960px, 92vw);
      padding: 24px;
      backdrop-filter: saturate(1.05);
    }

    .title {
      font-weight: 900;
      text-align: center;
      font-size: clamp(28px, 5vw, 44px);
      letter-spacing: 0.3px;
      text-shadow: 0 2px 0 var(--shadow);
      margin: 0 0 28px 0;
      opacity: 0;
      transform: translateY(-6px);
      animation: fade-in 560ms ease-out forwards;
    }

    .panel { opacity: 0; transform: translateY(8px); animation: fade-in-up 320ms ease-out forwards 80ms; }

    .row {
      display: grid;
      grid-template-columns: repeat(2, minmax(200px, 1fr));
      gap: clamp(14px, 3vw, 22px);
      place-items: center;
    }

    .bar {
      position: absolute;
      left: 50%;
      bottom: 16px;
      transform: translateX(-50%);
      font-size: 14px;
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 12px;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(6px);
      white-space: nowrap;
    }

    /* Buttons */
    .btn {
      width: clamp(200px, 36vw, 240px);
      height: 56px;
      border-radius: 16px;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--text);
      font-weight: 700;
      font-size: 18px;
      letter-spacing: 0.25px;
      box-shadow: 0 8px 18px -8px rgba(0,0,0,0.45);
      cursor: pointer;
      transition: transform 160ms ease, background-color 140ms ease, opacity 180ms ease;
      backdrop-filter: blur(8px);
      will-change: transform;
      animation: sway 2.4s ease-in-out infinite;
      animation-delay: var(--delay, 0s);
    }
    .btn:hover { transform: translateY(-2px) scale(1.03); background: var(--btn-bg-hover); }
    .btn:active { transform: translateY(0) scale(0.985); }
    .btn:focus-visible { outline: 3px solid rgba(255,255,255,0.7); outline-offset: 3px; }

    .topbar {
      display: flex; align-items: center; justify-content: space-between;
      margin: 0 0 16px 0;
    }
    .topbar-title { font-size: 20px; font-weight: 700; opacity: 0.95; }
    .back {
      border-radius: 12px;
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.08);
      color: var(--text);
      font-weight: 600;
      cursor: pointer;
      transition: background-color 140ms ease, transform 140ms ease;
    }
    .back:hover { background: rgba(255,255,255,0.12); transform: translateY(-1px); }
    .back:active { transform: translateY(0); }

    .hidden { display: none !important; }

    /* Animations */
    @keyframes sway { 0% { transform: translateY(0); } 25% { transform: translateY(-3px); } 50% { transform: translateY(0); } 75% { transform: translateY(3px); } 100% { transform: translateY(0); } }
    @keyframes fade-in { to { opacity: 1; transform: translateY(0); } }
    @keyframes fade-in-up { to { opacity: 1; transform: translateY(0); } }

    @media (prefers-reduced-motion: reduce) {
      .btn { animation: none; }
      .title, .panel { animation: none; opacity: 1; transform: none; }
    }
  </style>
</head>
<body>
  <main class="stage" aria-live="polite">
    <div class="backdrop" aria-hidden="true"></div>
    <div class="vignette" aria-hidden="true"></div>

    <section class="wrap" role="application">
      <h1 class="title">Maker Site</h1>

      <!-- ROOT MENU -->
      <div id="rootPanel" class="panel" aria-labelledby="rootHeading">
        <h2 id="rootHeading" class="sr-only" style="position:absolute;left:-10000px;">Main Options</h2>
        <div id="rootGrid" class="row" role="menu"></div>
      </div>

      <!-- SUBMENU -->
      <div id="subPanel" class="panel hidden" aria-labelledby="subHeading">
        <div class="topbar">
          <div id="subHeading" class="topbar-title">Submenu</div>
          <button id="backBtn" class="back" type="button" aria-label="Go back to main menu">‚Üê Back</button>
        </div>
        <div id="subGrid" class="row" role="menu"></div>
      </div>
    </section>

    <div class="bar">Enjoy your stay</div>
  </main>

  <script>
    // ====== CONFIG ======
    const BACKGROUND_URL = null;

    const ROOT_OPTIONS = [
      { id: 'projects', label: 'Projects' },
      { id: 'resume', label: 'Resume' },
      { id: 'settings', label: 'Settings' },
      { id: 'extras', label: 'Extras' },
    ];

    const SUBMENUS = {
      resume: [ {label:'Page', webpage:"fancy_resume.html"}, {label:'Github' ,webpage: "https://github.com/soapdove90-maker/soapdove.github.io"}, {label:'About Me', webpage:''}],
      projects: [{label:'Chess with Move Eval',webpage:"barebones_chess/chess_index.html"}, {label:'Kanji Learning',webpage:""}],
      settings: [{label:'Graphics',webpage:""},{label: 'Audio',webpage:""}, {label:'Controls',webpage: ""}, {label:'Accessibility',webpage:""}],
      extras: [{label:'Gallery',webpage:""}],
    };

    // ====== ELEMENTS ======
    const backdrop = document.querySelector('.backdrop');
    const rootPanel = document.getElementById('rootPanel');
    const rootGrid = document.getElementById('rootGrid');
    const subPanel = document.getElementById('subPanel');
    const subGrid = document.getElementById('subGrid');
    const subHeading = document.getElementById('subHeading');
    const backBtn = document.getElementById('backBtn');

    // Apply optional background URL override
    if (BACKGROUND_URL) {
      backdrop.style.backgroundImage = `url('${BACKGROUND_URL}')`;
    }

    // ====== RENDER HELPERS ======
    function makeButton(label, onClick, delaySec = 0) {
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'btn';
      btn.textContent = label;
      btn.style.setProperty('--delay', `${delaySec}s`);
      btn.addEventListener('click', onClick);
      btn.setAttribute('role', 'menuitem');
      return btn;
    }

    function show(el) { el.classList.remove('hidden'); }
    function hide(el) { el.classList.add('hidden'); }

    function renderRoot() {
      rootGrid.innerHTML = '';
      ROOT_OPTIONS.forEach((opt, i) => {
        const delay = i * 0.12;
        const btn = makeButton(opt.label, () => openSubmenu(opt.id), delay);
        rootGrid.appendChild(btn);
      });
      show(rootPanel);
      hide(subPanel);
    }

    function openSubmenu(id) {
      subHeading.textContent = (ROOT_OPTIONS.find(o => o.id === id)?.label) || 'Submenu';
      subGrid.innerHTML = '';

      (SUBMENUS[id] || []).forEach((label, i) => {
        const delay = i * 0.12;
        const btn = makeButton(label.label, () => {
          // Replace this with routing or your own callback logic
          window.location.href = label.webpage;
        }, delay);
        subGrid.appendChild(btn);
      });

      hide(rootPanel);
      show(subPanel);
    }

    // ====== EVENTS ======
    backBtn.addEventListener('click', () => renderRoot());

    // Initial render
    renderRoot();
  </script>
</body>
</html>
